<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>–ö–æ–±–∑–∞ ‚Äî –ì—Ä–∞ –∑—ñ —Å–ª–æ–≤–∞–º–∏</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <style>
        body {
            background-color: #f4f8fb;
        }

        h1 {
            color: #0d6efd;
        }

        .game-container {
            margin: 40px auto;
            max-width: 600px;
            background-color: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .letter-box {
            width: 55px;
            height: 55px;
            margin: 4px;
            font-size: 26px;
            font-weight: bold;
            text-transform: uppercase;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
            color: white;
        }

        .word-row {
            display: flex;
            justify-content: center;
            margin-bottom: 10px;
        }

        .green {
            background-color: #28a745;
        }

        .yellow {
            background-color: #ffc107;
            color: black;
        }

        .gray {
            background-color: #6c757d;
        }

        .btn-primary {
            background-color: #0d6efd;
            border-color: #0d6efd;
        }

        .btn-primary:hover {
            background-color: #0b5ed7;
            border-color: #0a58ca;
        }

        .form-control:focus {
            box-shadow: 0 0 0 0.2rem rgba(13, 110, 253, 0.25);
        }

    </style>
</head>
<body>

<!-- –í—Å—Ç–∞–≤–∫–∞ —Ö–µ–¥–µ—Ä–∞ -->
<header th:insert="~{blocks/Nurseheader :: header}"></header>

<div class="container mt-4">
    <div class="text-center">
        <h1 class="mb-3">–ì—Ä–∞ "–ö–æ–±–∑–∞"</h1>
        <p class="text-muted">–í–≥–∞–¥–∞–π—Ç–µ —Å–ª–æ–≤–æ –∑ 5 –ª—ñ—Ç–µ—Ä</p>
    </div>

    <div class="game-container text-center">
        <p class="mb-3">–ó–∞–ª–∏—à–∏–ª–æ—Å—å —Å–ø—Ä–æ–±: <strong th:text="${attemptsLeft}">6</strong></p>

        <!-- –í–∏–≤—ñ–¥ —É—Å—ñ—Ö —Å–ø—Ä–æ–± -->
        <div th:each="row : ${attemptsFeedback}" class="word-row">
            <div th:each="letter : ${row}"
                 class="letter-box"
                 th:classappend=" ${letter.color}"
                 th:text="${letter.letter}">–ê</div>
        </div>

        <!-- –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è -->
        <div th:if="${gameStatus == 'WIN'}" class="alert alert-success mt-4">
            –í–∏ –≤–≥–∞–¥–∞–ª–∏ —Å–ª–æ–≤–æ! üéâ
        </div>
        <div th:if="${gameStatus == 'LOSE'}" class="alert alert-danger mt-4">
            –í–∏ –ø—Ä–æ–≥—Ä–∞–ª–∏. –°–ª–æ–≤–æ –±—É–ª–æ: <strong th:text="${word}">...</strong>
        </div>

        <!-- –§–æ—Ä–º–∞ –≤–≤–µ–¥–µ–Ω–Ω—è -->
        <form th:action="@{/hangman/guessWord}" method="post" class="mt-3" th:if="${gameStatus == 'PLAY'}">
            <div class="input-group mb-3">
                <input type="text" name="guess" maxlength="5" minlength="5"
                       class="form-control text-center" placeholder="–í–≤–µ–¥—ñ—Ç—å —Å–ª–æ–≤–æ –∑ 5 –±—É–∫–≤..." required>
                <button class="btn btn-primary" type="submit">–°–ø—Ä–æ–±—É–≤–∞—Ç–∏</button>
            </div>
        </form>

        <form th:action="@{/hangman/reset}" method="post" class="mt-3 d-inline">
            <button type="submit" class="btn btn-secondary">–ó–∞–Ω–æ–≤–æ</button>
        </form>
    </div>

    <div class="text-center mt-4">
        <a href="javascript:history.back()" class="btn btn-outline-secondary">
            <i class="fas fa-arrow-left"></i> –ù–∞–∑–∞–¥
        </a>
    </div>
</div>

</body>
</html>
